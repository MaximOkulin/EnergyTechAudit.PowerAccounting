-- ====================================================================================================
-- Author:  	Leo (auto generated by BuildMissingConstraintsScript)
-- Create date: 2015-11-17
-- Description: Проверка потерянных ключей и индексов
-- ===================================================================================================
CREATE PROCEDURE [Programmability].[DoCheckMissingConstraints]
AS
BEGIN
	DECLARE @missingConstraintsCount INT = 0;
	DECLARE @missingConstraintsMessage NVARCHAR(MAX) = '';
	DECLARE @crlf NCHAR(2) = CHAR(13) + CHAR(10);

	
	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[AccessPoint]')
		AND [indexes].[name] = 'UQ_NetAddress_Port_Identifier_NetPhone'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: UQ_NetAddress_Port_Identifier_NetPhone отсутствует в таблице [Business].[AccessPoint].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[AccessPoint]')
		AND [indexes].[name] = 'IX_Business_AccessPoint_TransportTypeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_AccessPoint_TransportTypeId отсутствует в таблице [Business].[AccessPoint].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[AccessPoint]')
		AND [indexes].[name] = 'IX_Business_AccessPoint_TransportServerModelId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_AccessPoint_TransportServerModelId отсутствует в таблице [Business].[AccessPoint].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[AccessPoint]')
		AND [indexes].[name] = 'IX_Business_AccessPoint_DeviceReaderId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_AccessPoint_DeviceReaderId отсутствует в таблице [Business].[AccessPoint].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[AccessPoint]')
		AND [indexes].[name] = 'IX_Business_AccessPoint_LastStatusConnectionId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_AccessPoint_LastStatusConnectionId отсутствует в таблице [Business].[AccessPoint].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[AccessPoint]')
		AND [indexes].[name] = 'IX_Business_AccessPoint_CsdModemId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_AccessPoint_CsdModemId отсутствует в таблице [Business].[AccessPoint].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_AccessPoint_TransportTypeId_Dictionaries_TransportType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[AccessPoint]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_AccessPoint_TransportTypeId_Dictionaries_TransportType_Id] отсутствует в таблице [Business].[AccessPoint].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_AccessPoint_TransportServerModelId_Dictionaries_TransportServerModel_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[AccessPoint]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_AccessPoint_TransportServerModelId_Dictionaries_TransportServerModel_Id] отсутствует в таблице [Business].[AccessPoint].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_AccessPoint_DeviceReaderId_Business_DeviceReader_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[AccessPoint]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_AccessPoint_DeviceReaderId_Business_DeviceReader_Id] отсутствует в таблице [Business].[AccessPoint].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_AccessPoint_LastStatusConnectionId_Dictionaries_StatusConnection_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[AccessPoint]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_AccessPoint_LastStatusConnectionId_Dictionaries_StatusConnection_Id] отсутствует в таблице [Business].[AccessPoint].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_AccessPoint_CsdModemId_Business_CsdModed_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[AccessPoint]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_AccessPoint_CsdModemId_Business_CsdModed_Id] отсутствует в таблице [Business].[AccessPoint].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_AccessPointLinkBuilding_AccessPointId_Business_AccessPoint_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[AccessPointLinkBuilding]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_AccessPointLinkBuilding_AccessPointId_Business_AccessPoint_Id] отсутствует в таблице [Business].[AccessPointLinkBuilding].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_AccessPointLinkBuilding_BuildingId_Business_Building_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[AccessPointLinkBuilding]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_AccessPointLinkBuilding_BuildingId_Business_Building_Id] отсутствует в таблице [Business].[AccessPointLinkBuilding].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[AccessPointLinkBuilding]')
		AND [indexes].[name] = 'IX_Business_AccessPointLinkBuilding_AccessPointId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_AccessPointLinkBuilding_AccessPointId отсутствует в таблице [Business].[AccessPointLinkBuilding].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[AccessPointLinkBuilding]')
		AND [indexes].[name] = 'IX_Business_AccessPointLinkBuilding_BuildingId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_AccessPointLinkBuilding_BuildingId отсутствует в таблице [Business].[AccessPointLinkBuilding].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[AccessPointStatusConnectionLog]')
		AND [indexes].[name] = 'IX_Business_AccessPointConnectionStatus_ConnectionTime'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_AccessPointConnectionStatus_ConnectionTime отсутствует в таблице [Business].[AccessPointStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[AccessPointStatusConnectionLog]')
		AND [indexes].[name] = 'IX_Business_AccessPointConnectionStatus_ConnectionStatusId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_AccessPointConnectionStatus_ConnectionStatusId отсутствует в таблице [Business].[AccessPointStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[AccessPointStatusConnectionLog]')
		AND [indexes].[name] = 'IX_Business_AccessPointConnectionStatus_AccessPointId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_AccessPointConnectionStatus_AccessPointId отсутствует в таблице [Business].[AccessPointStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_AccessPointStatusConnectionLog_ConnectionStatusId_Dictionaries_StatusConnection_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[AccessPointStatusConnectionLog]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_AccessPointStatusConnectionLog_ConnectionStatusId_Dictionaries_StatusConnection_Id] отсутствует в таблице [Business].[AccessPointStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_AccessPointStatusConnectionLog_AccessPointId_Business_AccessPoint_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[AccessPointStatusConnectionLog]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_AccessPointStatusConnectionLog_AccessPointId_Business_AccessPoint_Id] отсутствует в таблице [Business].[AccessPointStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[AgreementSystemParameter]')
		AND [indexes].[name] = 'IX_Dictionaries_AgreementSystemParameter_PhysicalParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_AgreementSystemParameter_PhysicalParameterId отсутствует в таблице [Dictionaries].[AgreementSystemParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[AgreementSystemParameter]')
		AND [indexes].[name] = 'IX_Dictionaries_AgreementSystemParameter_ResourceSystemTypeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_AgreementSystemParameter_ResourceSystemTypeId отсутствует в таблице [Dictionaries].[AgreementSystemParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_AgreementSystemParameter_PhysicalParameterId_Dictionaries_PhysicalParameter_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[AgreementSystemParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_AgreementSystemParameter_PhysicalParameterId_Dictionaries_PhysicalParameter_Id] отсутствует в таблице [Dictionaries].[AgreementSystemParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_AgreementSystemParameter_ResourceSystemTypeId_Dictionaries_SystemType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[AgreementSystemParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_AgreementSystemParameter_ResourceSystemTypeId_Dictionaries_SystemType_Id] отсутствует в таблице [Dictionaries].[AgreementSystemParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Archive_TimeSignatureId_Business_TimeSignature_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Archive]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Archive_TimeSignatureId_Business_TimeSignature_Id] отсутствует в таблице [Business].[Archive].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Archive_PeriodTypeId_Dictionaries_PeriodType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Archive]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Archive_PeriodTypeId_Dictionaries_PeriodType_Id] отсутствует в таблице [Business].[Archive].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Archive_MeasurementDeviceId_Business_MeasurementDevice_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Archive]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Archive_MeasurementDeviceId_Business_MeasurementDevice_Id] отсутствует в таблице [Business].[Archive].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Archive_DeviceParameterId_Dictionaries_DeviceParameter_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Archive]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Archive_DeviceParameterId_Dictionaries_DeviceParameter_Id] отсутствует в таблице [Business].[Archive].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Archive]')
		AND [indexes].[name] = 'UQ_Business_Archive_PeriodTypeId_Time_MeasurementDeviceId_DeviceParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: UQ_Business_Archive_PeriodTypeId_Time_MeasurementDeviceId_DeviceParameterId отсутствует в таблице [Business].[Archive].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Archive]')
		AND [indexes].[name] = 'IX_Business_Archive_TimeSignatureId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Archive_TimeSignatureId отсутствует в таблице [Business].[Archive].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Archive]')
		AND [indexes].[name] = 'IX_Business_Archive_MeasurementDeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Archive_MeasurementDeviceId отсутствует в таблице [Business].[Archive].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Archive]')
		AND [indexes].[name] = 'IX_Business_Archive_PeriodTypeId_MeasurementDeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Archive_PeriodTypeId_MeasurementDeviceId отсутствует в таблице [Business].[Archive].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Archive]')
		AND [indexes].[name] = 'IX_Business_Archive_PeriodTypeId_MeasurementDeviceId_DeviceParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Archive_PeriodTypeId_MeasurementDeviceId_DeviceParameterId отсутствует в таблице [Business].[Archive].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Archive]')
		AND [indexes].[name] = 'IX_Business_Archive_PeriodTypeId_MeasurementDeviceId_DeviceParameterId_Time'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Archive_PeriodTypeId_MeasurementDeviceId_DeviceParameterId_Time отсутствует в таблице [Business].[Archive].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Admin].[Audit]')
		AND [indexes].[name] = 'IX_Admin_Audit_UserId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Admin_Audit_UserId отсутствует в таблице [Admin].[Audit].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Admin].[FK_Admin_Audit_UserId_Admin_User_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Admin].[Audit]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Admin].[FK_Admin_Audit_UserId_Admin_User_Id] отсутствует в таблице [Admin].[Audit].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_Binary_ContentTypeId_Dictionaries_BinaryContentType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[Binary]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_Binary_ContentTypeId_Dictionaries_BinaryContentType_Id] отсутствует в таблице [Core].[Binary].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[Binary]')
		AND [indexes].[name] = 'UQ_Core_Binary_ItemId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: UQ_Core_Binary_ItemId отсутствует в таблице [Core].[Binary].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Building]')
		AND [indexes].[name] = 'IX_FK_Business_Building_DistrictId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_FK_Business_Building_DistrictId отсутствует в таблице [Business].[Building].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Building]')
		AND [indexes].[name] = 'IX_FK_Business_Building_OrganizationId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_FK_Business_Building_OrganizationId отсутствует в таблице [Business].[Building].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Building]')
		AND [indexes].[name] = 'IX_FK_Business_Building_BuildingPurposeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_FK_Business_Building_BuildingPurposeId отсутствует в таблице [Business].[Building].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Building]')
		AND [indexes].[name] = 'IX_FK_Business_Building_Id'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_FK_Business_Building_Id отсутствует в таблице [Business].[Building].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Building_DistrictId_Dictionaries_District_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Building]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Building_DistrictId_Dictionaries_District_Id] отсутствует в таблице [Business].[Building].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Building_BuildingPurposeId_Dictionaries_BuildingPurpose_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Building]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Building_BuildingPurposeId_Dictionaries_BuildingPurpose_Id] отсутствует в таблице [Business].[Building].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Building_OrganizationId_Business_Organization_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Building]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Building_OrganizationId_Business_Organization_Id] отсутствует в таблице [Business].[Building].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Channel_ChannelTemplateId_Business_ChannelTemplate_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Channel]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Channel_ChannelTemplateId_Business_ChannelTemplate_Id] отсутствует в таблице [Business].[Channel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Channel_ResourceSystemTypeId_Dictionaries_SystemType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Channel]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Channel_ResourceSystemTypeId_Dictionaries_SystemType_Id] отсутствует в таблице [Business].[Channel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Channel_MeasurementDeviceId_Business_MeasurementDevice_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Channel]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Channel_MeasurementDeviceId_Business_MeasurementDevice_Id] отсутствует в таблице [Business].[Channel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Channel_PlacementId_Business_Placement_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Channel]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Channel_PlacementId_Business_Placement_Id] отсутствует в таблице [Business].[Channel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Channel_MnemoschemeId_Business_Mnemoscheme_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Channel]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Channel_MnemoschemeId_Business_Mnemoscheme_Id] отсутствует в таблице [Business].[Channel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Channel]')
		AND [indexes].[name] = 'IX_Business_Channel_MeasurementDeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Channel_MeasurementDeviceId отсутствует в таблице [Business].[Channel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Channel]')
		AND [indexes].[name] = 'IX_Business_Channel_PlacementId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Channel_PlacementId отсутствует в таблице [Business].[Channel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Channel]')
		AND [indexes].[name] = 'IX_Business_Channel_ChannelTemplateId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Channel_ChannelTemplateId отсутствует в таблице [Business].[Channel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Channel]')
		AND [indexes].[name] = 'IX_Business_Channel_ResourceSystemTypeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Channel_ResourceSystemTypeId отсутствует в таблице [Business].[Channel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_ChannelTemplate_ResourceSystemTypeId_Dictionaries_SystemType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[ChannelTemplate]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_ChannelTemplate_ResourceSystemTypeId_Dictionaries_SystemType_Id] отсутствует в таблице [Business].[ChannelTemplate].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_ChannelTemplate_DeviceId_Dictionaries_Device_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[ChannelTemplate]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_ChannelTemplate_DeviceId_Dictionaries_Device_Id] отсутствует в таблице [Business].[ChannelTemplate].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_ChannelTemplate_MnemoschemeId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[ChannelTemplate]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_ChannelTemplate_MnemoschemeId] отсутствует в таблице [Business].[ChannelTemplate].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_CheckingAccount_OrganizationId_Business_Organization_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[CheckingAccount]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_CheckingAccount_OrganizationId_Business_Organization_Id] отсутствует в таблице [Business].[CheckingAccount].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_CheckingAccountLinkPlacement_CheckingAccountId_Businnee_CheckingAccount_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[CheckingAccountLinkPlacement]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_CheckingAccountLinkPlacement_CheckingAccountId_Businnee_CheckingAccount_Id] отсутствует в таблице [Business].[CheckingAccountLinkPlacement].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_CheckingAccountLinkPlacement_PlacementId_Business_Placement_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[CheckingAccountLinkPlacement]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_CheckingAccountLinkPlacement_PlacementId_Business_Placement_Id] отсутствует в таблице [Business].[CheckingAccountLinkPlacement].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_CsdModem_ComPortId_Dictionaries_ComPort_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[CsdModem]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_CsdModem_ComPortId_Dictionaries_ComPort_Id] отсутствует в таблице [Business].[CsdModem].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_CsdModem_DeviceId_Dictionaries_Device_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[CsdModem]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_CsdModem_DeviceId_Dictionaries_Device_Id] отсутствует в таблице [Business].[CsdModem].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[CsdModem]')
		AND [indexes].[name] = 'IX_Business_CsdModem_DeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_CsdModem_DeviceId отсутствует в таблице [Business].[CsdModem].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[CsdModem]')
		AND [indexes].[name] = 'IX_Business_CsdModem_ComPortId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_CsdModem_ComPortId отсутствует в таблице [Business].[CsdModem].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Rules].[FK_Rules_DefaultMeasurementUnit_PhysicalParameterId_Dictionaries_PhysicalParameter_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Rules].[DefaultMeasurementUnit]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Rules].[FK_Rules_DefaultMeasurementUnit_PhysicalParameterId_Dictionaries_PhysicalParameter_Id] отсутствует в таблице [Rules].[DefaultMeasurementUnit].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Rules].[FK_Rules_DefaultMeasurementUnit_MeasurementUnitId_Dictionaries_MeasurementUnit_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Rules].[DefaultMeasurementUnit]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Rules].[FK_Rules_DefaultMeasurementUnit_MeasurementUnitId_Dictionaries_MeasurementUnit_Id] отсутствует в таблице [Rules].[DefaultMeasurementUnit].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Rules].[FK_Rules_DefaultMeasurementUnit_DimentionId_Dictionaries_Dimension_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Rules].[DefaultMeasurementUnit]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Rules].[FK_Rules_DefaultMeasurementUnit_DimentionId_Dictionaries_Dimension_Id] отсутствует в таблице [Rules].[DefaultMeasurementUnit].' + @crlf;
	END;
	
	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_Device_BaudId_Dictionaries_Baud_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[Device]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_Device_BaudId_Dictionaries_Baud_Id] отсутствует в таблице [Dictionaries].[Device].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_Device_DataId_Dictionaries_DataBit_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[Device]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_Device_DataId_Dictionaries_DataBit_Id] отсутствует в таблице [Dictionaries].[Device].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_Device_ParityId_Dictionaries_Parity_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[Device]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_Device_ParityId_Dictionaries_Parity_Id] отсутствует в таблице [Dictionaries].[Device].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_Device_StopBitId_Dictionaries_StopBit_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[Device]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_Device_StopBitId_Dictionaries_StopBit_Id] отсутствует в таблице [Dictionaries].[Device].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[Device]')
		AND [indexes].[name] = 'UQ_Dictionaries_Device_ItemId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: UQ_Dictionaries_Device_ItemId отсутствует в таблице [Dictionaries].[Device].' + @crlf;
	END;
	
	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[Device]')
		AND [indexes].[name] = 'IX_Dictionaries_Device_BaudId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_Device_BaudId отсутствует в таблице [Dictionaries].[Device].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[Device]')
		AND [indexes].[name] = 'IX_Dictionaries_Device_DataId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_Device_DataId отсутствует в таблице [Dictionaries].[Device].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[Device]')
		AND [indexes].[name] = 'IX_Dictionaries_Device_ParityId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_Device_ParityId отсутствует в таблице [Dictionaries].[Device].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[Device]')
		AND [indexes].[name] = 'IX_Dictionaries_Device_StopBitId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_Device_StopBitId отсутствует в таблице [Dictionaries].[Device].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Rules].[DeviceArchiveTimeConverter]')
		AND [indexes].[name] = 'UQ_Rules_DeviceArchiveTimeConverter_DeviceId_PeriodTypeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: UQ_Rules_DeviceArchiveTimeConverter_DeviceId_PeriodTypeId отсутствует в таблице [Rules].[DeviceArchiveTimeConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Rules].[DeviceArchiveTimeConverter]')
		AND [indexes].[name] = 'IX_Rules_DeviceArchiveTimeConverter_DeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Rules_DeviceArchiveTimeConverter_DeviceId отсутствует в таблице [Rules].[DeviceArchiveTimeConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Rules].[DeviceArchiveTimeConverter]')
		AND [indexes].[name] = 'IX_Rules_DeviceArchiveTimeConverter_PeriodTypeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Rules_DeviceArchiveTimeConverter_PeriodTypeId отсутствует в таблице [Rules].[DeviceArchiveTimeConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Rules].[FK_Rules_DeviceArchiveTimeConverter_DeviceId_Dictionaries_Device_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Rules].[DeviceArchiveTimeConverter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Rules].[FK_Rules_DeviceArchiveTimeConverter_DeviceId_Dictionaries_Device_Id] отсутствует в таблице [Rules].[DeviceArchiveTimeConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Rules].[FK_Rules_DeviceArchiveTimeConverter_PeriodTypeId_Dictionaries_PeriodType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Rules].[DeviceArchiveTimeConverter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Rules].[FK_Rules_DeviceArchiveTimeConverter_PeriodTypeId_Dictionaries_PeriodType_Id] отсутствует в таблице [Rules].[DeviceArchiveTimeConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_DeviceEvent_DeviceEventParameterId_Dictionaries_DeviceEventParameter_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[DeviceEvent]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_DeviceEvent_DeviceEventParameterId_Dictionaries_DeviceEventParameter_Id] отсутствует в таблице [Business].[DeviceEvent].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_DeviceEvent_MeasurementDeviceId_Business_MeasurementDevice_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[DeviceEvent]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_DeviceEvent_MeasurementDeviceId_Business_MeasurementDevice_Id] отсутствует в таблице [Business].[DeviceEvent].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[DeviceEvent]')
		AND [indexes].[name] = 'IX_Business_DeviceEvent_DeviceEventParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_DeviceEvent_DeviceEventParameterId отсутствует в таблице [Business].[DeviceEvent].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[DeviceEvent]')
		AND [indexes].[name] = 'IX_Business_DeviceEvent_MeasurementDeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_DeviceEvent_MeasurementDeviceId отсутствует в таблице [Business].[DeviceEvent].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[DeviceEvent]')
		AND [indexes].[name] = 'IX_Business_DeviceEvent_MeasurementDeviceId_Time'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_DeviceEvent_MeasurementDeviceId_Time отсутствует в таблице [Business].[DeviceEvent].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[DeviceEventParameter]')
		AND [indexes].[name] = 'IX_Dictionaries_DeviceEventParameter_DeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_DeviceEventParameter_DeviceId отсутствует в таблице [Dictionaries].[DeviceEventParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_DeviceEventParameter_DeviceId_Dictionaries_Device_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[DeviceEventParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_DeviceEventParameter_DeviceId_Dictionaries_Device_Id] отсутствует в таблице [Dictionaries].[DeviceEventParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_DeviceLinkDynamicParameter_DeviceId_Dictionaries_Device_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[DeviceLinkDynamicParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_DeviceLinkDynamicParameter_DeviceId_Dictionaries_Device_Id] отсутствует в таблице [Business].[DeviceLinkDynamicParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_DeviceLinkDynamicParameter_DynamicParameterId_Dictionaries_DynamicParameter_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[DeviceLinkDynamicParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_DeviceLinkDynamicParameter_DynamicParameterId_Dictionaries_DynamicParameter_Id] отсутствует в таблице [Business].[DeviceLinkDynamicParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[DeviceLinkDynamicParameter]')
		AND [indexes].[name] = 'IX_Business_DeviceLinkDynamicParameter_DeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_DeviceLinkDynamicParameter_DeviceId отсутствует в таблице [Business].[DeviceLinkDynamicParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[DeviceLinkDynamicParameter]')
		AND [indexes].[name] = 'IX_Business_DeviceLinkDynamicParameter_DynamicParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_DeviceLinkDynamicParameter_DynamicParameterId отсутствует в таблице [Business].[DeviceLinkDynamicParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_DeviceParameter_DeviceId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[DeviceParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_DeviceParameter_DeviceId] отсутствует в таблице [Dictionaries].[DeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_DeviceParameterSetting_Id_Dictionaries_DeviceParameter_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[DeviceParameterSetting]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_DeviceParameterSetting_Id_Dictionaries_DeviceParameter_Id] отсутствует в таблице [Business].[DeviceParameterSetting].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_DeviceReader_DeviceReaderTypeId_Dictionaries_DeviceReaderType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[DeviceReader]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_DeviceReader_DeviceReaderTypeId_Dictionaries_DeviceReaderType_Id] отсутствует в таблице [Business].[DeviceReader].' + @crlf;
	END;

    
    IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_DeviceReader_UserId_Admin_User_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[DeviceReader]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_DeviceReader_UserId_Admin_User_Id] отсутствует в таблице [Business].[DeviceReader].' + @crlf;
	END;
	   
	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[DeviceReader]')
		AND [indexes].[name] = 'IX_Business_DeviceReader_UserId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_DeviceReader_UserId отсутствует в таблице [Business].[DeviceReader].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[DeviceReaderErrorLog]')
		AND [indexes].[name] = 'IX_Business_DeviceReaderErrorLog_MeasurementDeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_DeviceReaderErrorLog_MeasurementDeviceId отсутствует в таблице [Business].[DeviceReaderErrorLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_DeviceReaderErrorLog_DeviceReaderId_Business_DeviceReader_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[DeviceReaderErrorLog]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_DeviceReaderErrorLog_DeviceReaderId_Business_DeviceReader_Id] отсутствует в таблице [Business].[DeviceReaderErrorLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_DeviceReaderErrorLog_MeasurementDeviceId_Business_MeasurementDevice_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[DeviceReaderErrorLog]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_DeviceReaderErrorLog_MeasurementDeviceId_Business_MeasurementDevice_Id] отсутствует в таблице [Business].[DeviceReaderErrorLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[Dimension]')
		AND [indexes].[name] = 'UQ_Dictionaries_Dimension_Value'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: UQ_Dictionaries_Dimension_Value отсутствует в таблице [Dictionaries].[Dimension].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[District]')
		AND [indexes].[name] = 'IX_Dictionaries_District_CityId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_District_CityId отсутствует в таблице [Dictionaries].[District].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_District_CityId_Dictionaries_City_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[District]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_District_CityId_Dictionaries_City_Id] отсутствует в таблице [Dictionaries].[District].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_DynamicParameterValue_DynamicParameterId_Dictionaries_DynamicParameter_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[DynamicParameterValue]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_DynamicParameterValue_DynamicParameterId_Dictionaries_DynamicParameter_Id] отсутствует в таблице [Core].[DynamicParameterValue].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[DynamicParameterValue]')
		AND [indexes].[name] = 'UQ_EntityId_DynamicParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: UQ_EntityId_DynamicParameterId отсутствует в таблице [Core].[DynamicParameterValue].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[DynamicParameterValue]')
		AND [indexes].[name] = 'IX_Core_DynamicParameterValue_DynamicParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_DynamicParameterValue_DynamicParameterId отсутствует в таблице [Core].[DynamicParameterValue].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_EntityPropery_EntityId_Core_Entity_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[EntityProperty]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_EntityPropery_EntityId_Core_Entity_Id] отсутствует в таблице [Core].[EntityProperty].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[EntityTree]')
		AND [indexes].[name] = 'IX_Core_EntityTree_Code'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_EntityTree_Code отсутствует в таблице [Core].[EntityTree].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[EntityTreeLinkRole]')
		AND [indexes].[name] = 'IX_Core_EntityTreeLinkRole_EntityTreeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_EntityTreeLinkRole_EntityTreeId отсутствует в таблице [Core].[EntityTreeLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[EntityTreeLinkRole]')
		AND [indexes].[name] = 'IX_Core_EntityTreeLinkRole_RoleId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_EntityTreeLinkRole_RoleId отсутствует в таблице [Core].[EntityTreeLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_EntityTreeLinkRole_EntityTreeId_Core_EntityTree_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[EntityTreeLinkRole]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_EntityTreeLinkRole_EntityTreeId_Core_EntityTree_Id] отсутствует в таблице [Core].[EntityTreeLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_EntityTreeLinkRole_RoleId_Admin_Role_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[EntityTreeLinkRole]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_EntityTreeLinkRole_RoleId_Admin_Role_Id] отсутствует в таблице [Core].[EntityTreeLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Admin].[ErrorLogEntry]')
		AND [indexes].[name] = 'IX_Admin_ErrorLogEntry_UserName'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Admin_ErrorLogEntry_UserName отсутствует в таблице [Admin].[ErrorLogEntry].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Admin].[FK_Admin_FaqLinkRole_FaqId_Admin_Faq_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Admin].[FaqLinkRole]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Admin].[FK_Admin_FaqLinkRole_FaqId_Admin_Faq_Id] отсутствует в таблице [Admin].[FaqLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Admin].[FK_Admin_FaqLinkRole_RoleId_Admin_Role_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Admin].[FaqLinkRole]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Admin].[FK_Admin_FaqLinkRole_RoleId_Admin_Role_Id] отсутствует в таблице [Admin].[FaqLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Hub]')
		AND [indexes].[name] = 'IX_Business_Hub_DeviceReaderId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Hub_DeviceReaderId отсутствует в таблице [Business].[Hub].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Hub]')
		AND [indexes].[name] = 'IX_Business_Hub_BuildingId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Hub_BuildingId отсутствует в таблице [Business].[Hub].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Hub_DeviceReaderId_Business_DeviceReader_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Hub]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Hub_DeviceReaderId_Business_DeviceReader_Id] отсутствует в таблице [Business].[Hub].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Hub_BuildingId_Business_Building_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Hub]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Hub_BuildingId_Business_Building_Id] отсутствует в таблице [Business].[Hub].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
		AND [indexes].[name] = 'UQ_DeviceId_FactoryNumber'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: UQ_DeviceId_FactoryNumber отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
		AND [indexes].[name] = 'IX_Business_MeasurementDevice_DeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_MeasurementDevice_DeviceId отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
		AND [indexes].[name] = 'IX_Business_MeasurementDevice_ProtocolSubTypeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_MeasurementDevice_ProtocolSubTypeId отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
		AND [indexes].[name] = 'IX_Business_MeasurementDevice_AccessPointId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_MeasurementDevice_AccessPointId отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
		AND [indexes].[name] = 'IX_Business_MeasurementDevice_HubId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_MeasurementDevice_HubId отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDevice_DeviceId_Dictionaries_Device_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDevice_DeviceId_Dictionaries_Device_Id] отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;
	

	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDevice_AccessPointId_Business_AccessPointId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDevice_AccessPointId_Business_AccessPointId] отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDevice_LastStatusConnectionId_Dictionaries_StatusConnection_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDevice_LastStatusConnectionId_Dictionaries_StatusConnection_Id] отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDevice_ParityId_Dictionaries_Parity_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDevice_ParityId_Dictionaries_Parity_Id] отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDevice_BaudId_Dictionaries_Baud_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDevice_BaudId_Dictionaries_Baud_Id] отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDevice_ComPortId_Dictionaries_ComPort_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDevice_ComPortId_Dictionaries_ComPort_Id] отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDevice_StopBitId_Dictionaries_StopBit_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDevice_StopBitId_Dictionaries_StopBit_Id] отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDevice_DataId_Dictionaries_DataBit_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDevice_DataId_Dictionaries_DataBit_Id] отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDevice_PortTypeId_Dictionaries_PortType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDevice_PortTypeId_Dictionaries_PortType_Id] отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDevice_ProtocolSubTypeId_Dictionaries_ProtocolSubType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDevice_ProtocolSubTypeId_Dictionaries_ProtocolSubType_Id] отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDevice_HubId_Business_Hub_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDevice_HubId_Business_Hub_Id] отсутствует в таблице [Business].[MeasurementDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDeviceStatusConnectionLog_MeasurementDeviceId_Business_MeasurementDevice_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDeviceStatusConnectionLog]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDeviceStatusConnectionLog_MeasurementDeviceId_Business_MeasurementDevice_Id] отсутствует в таблице [Business].[MeasurementDeviceStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_MeasurementDeviceStatusConnectionLog_StatusConnectionId_Dictionaries_StatusConnection_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[MeasurementDeviceStatusConnectionLog]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_MeasurementDeviceStatusConnectionLog_StatusConnectionId_Dictionaries_StatusConnection_Id] отсутствует в таблице [Business].[MeasurementDeviceStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[MeasurementDeviceStatusConnectionLog]')
		AND [indexes].[name] = 'IX_Business_StatusConnectionLog_Time'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_StatusConnectionLog_Time отсутствует в таблице [Business].[MeasurementDeviceStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[MeasurementDeviceStatusConnectionLog]')
		AND [indexes].[name] = 'IX_Business_StatusConnectionLog_MeasurementDeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_StatusConnectionLog_MeasurementDeviceId отсутствует в таблице [Business].[MeasurementDeviceStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[MeasurementDeviceStatusConnectionLog]')
		AND [indexes].[name] = 'IX_Business_StatusConnectionLog_StatusConnectionId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_StatusConnectionLog_StatusConnectionId отсутствует в таблице [Business].[MeasurementDeviceStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[MeasurementDeviceStatusConnectionLog]')
		AND [indexes].[name] = 'IX_Business_StatusConnectionLog_MeasurementDeviceCustomInfoListForOperAdmin'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_StatusConnectionLog_MeasurementDeviceCustomInfoListForOperAdmin отсутствует в таблице [Business].[MeasurementDeviceStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[MeasurementDeviceStatusConnectionLog]')
		AND [indexes].[name] = 'IX_Business_StatusConnectionLog_MeasurementDeviceCustomInfoListForOperAdmin1'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_StatusConnectionLog_MeasurementDeviceCustomInfoListForOperAdmin1 отсутствует в таблице [Business].[MeasurementDeviceStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[MeasurementDeviceStatusConnectionLog]')
		AND [indexes].[name] = 'IX_Business_StatusConnectionLog_MeasurementDeviceCustomInfoListForOperAdmin2'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_StatusConnectionLog_MeasurementDeviceCustomInfoListForOperAdmin2 отсутствует в таблице [Business].[MeasurementDeviceStatusConnectionLog].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[MeasurementUnit]')
		AND [indexes].[name] = 'IX_Dictionaries_MeasurementUnit_PhysicalParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_MeasurementUnit_PhysicalParameterId отсутствует в таблице [Dictionaries].[MeasurementUnit].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_MeasurementUnit_PhysicalParameterId_Dictionaries_PhysicalParameter_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[MeasurementUnit]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_MeasurementUnit_PhysicalParameterId_Dictionaries_PhysicalParameter_Id] отсутствует в таблице [Dictionaries].[MeasurementUnit].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Rules].[FK_Rules_MeasurementUnitConverter_PhysicalParameterId_Dictionaries_PhysicalParameter_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Rules].[MeasurementUnitConverter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Rules].[FK_Rules_MeasurementUnitConverter_PhysicalParameterId_Dictionaries_PhysicalParameter_Id] отсутствует в таблице [Rules].[MeasurementUnitConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Rules].[FK_Rules_MeasurementUnitConverter_MeasurementUnit2Id_Dictionaries_MeasurementUnit_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Rules].[MeasurementUnitConverter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Rules].[FK_Rules_MeasurementUnitConverter_MeasurementUnit2Id_Dictionaries_MeasurementUnit_Id] отсутствует в таблице [Rules].[MeasurementUnitConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Rules].[FK_Rules_MeasurementUnitConverter_MeasurementUnit1Id_Dictionaries_MeasurementUnit_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Rules].[MeasurementUnitConverter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Rules].[FK_Rules_MeasurementUnitConverter_MeasurementUnit1Id_Dictionaries_MeasurementUnit_Id] отсутствует в таблице [Rules].[MeasurementUnitConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Rules].[MeasurementUnitConverter]')
		AND [indexes].[name] = 'UQ_Rules_MeasurementUnitConverter_PhysicalParameterId_MeasurementUnit1Id_MeasurementUnit2Id'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: UQ_Rules_MeasurementUnitConverter_PhysicalParameterId_MeasurementUnit1Id_MeasurementUnit2Id отсутствует в таблице [Rules].[MeasurementUnitConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Rules].[MeasurementUnitConverter]')
		AND [indexes].[name] = 'IX_Rules_MeasurementUnitConverter_PhysicalParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Rules_MeasurementUnitConverter_PhysicalParameterId отсутствует в таблице [Rules].[MeasurementUnitConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Rules].[MeasurementUnitConverter]')
		AND [indexes].[name] = 'IX_Rules_MeasurementUnitConverter_MeasurementUnit1Id'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Rules_MeasurementUnitConverter_MeasurementUnit1Id отсутствует в таблице [Rules].[MeasurementUnitConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Rules].[MeasurementUnitConverter]')
		AND [indexes].[name] = 'IX_Rules_MeasurementUnitConverter_MeasurementUnit2Id'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Rules_MeasurementUnitConverter_MeasurementUnit2Id отсутствует в таблице [Rules].[MeasurementUnitConverter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MenuItem]')
		AND [indexes].[name] = 'IX_Core_MenuItem_MenuId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MenuItem_MenuId отсутствует в таблице [Core].[MenuItem].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MenuItem]')
		AND [indexes].[name] = 'IX_Core_MenuItem_MetaObjectId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MenuItem_MetaObjectId отсутствует в таблице [Core].[MenuItem].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MenuItemId_MenuId_Core_Menu_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MenuItem]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MenuItemId_MenuId_Core_Menu_Id] отсутствует в таблице [Core].[MenuItem].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MenuItemId_MetaObjectId_Core_MetaObject_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MenuItem]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MenuItemId_MetaObjectId_Core_MetaObject_Id] отсутствует в таблице [Core].[MenuItem].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObject_MetaObjectTypeId_Core_MetaObjectType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObject]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObject_MetaObjectTypeId_Core_MetaObjectType_Id] отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObject_DictionaryId_Core_Dictionary_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObject]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObject_DictionaryId_Core_Dictionary_Id] отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObject_PivotId_Core_Pivot_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObject]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObject_PivotId_Core_Pivot_Id] отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObject_QueryId_Core_Query_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObject]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObject_QueryId_Core_Query_Id] отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObject_ReportId_Core_Report_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObject]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObject_ReportId_Core_Report_Id] отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObject_FormId_Core_Form_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObject]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObject_FormId_Core_Form_Id] отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObject_PivotDiagrammId_Core_PivotDiagramm_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObject]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObject_PivotDiagrammId_Core_PivotDiagramm_Id] отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObject_ProcessingId_Core_Processing_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObject]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObject_ProcessingId_Core_Processing_Id] отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObject_DiagrammId_Core_Diagramm_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObject]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObject_DiagrammId_Core_Diagramm_Id] отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObject_ParametricId_Core_Parametric_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObject]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObject_ParametricId_Core_Parametric_Id] отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObject_SourceId_Core_Source_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObject]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObject_SourceId_Core_Source_Id] отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObject]')
		AND [indexes].[name] = 'IX_Core_MetaObject_MetaObjectTypeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObject_MetaObjectTypeId отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObject]')
		AND [indexes].[name] = 'IX_Core_MetaObject_DictionaryId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObject_DictionaryId отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObject]')
		AND [indexes].[name] = 'IX_Core_MetaObject_PivotId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObject_PivotId отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObject]')
		AND [indexes].[name] = 'IX_Core_MetaObject_QueryId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObject_QueryId отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObject]')
		AND [indexes].[name] = 'IX_Core_MetaObject_ReportId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObject_ReportId отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObject]')
		AND [indexes].[name] = 'IX_Core_MetaObject_FormId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObject_FormId отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObject]')
		AND [indexes].[name] = 'IX_Core_MetaObject_PivotDiagrammId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObject_PivotDiagrammId отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObject]')
		AND [indexes].[name] = 'IX_Core_MetaObject_ParametricId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObject_ParametricId отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObject]')
		AND [indexes].[name] = 'IX_Core_MetaObject_SourceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObject_SourceId отсутствует в таблице [Core].[MetaObject].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObjectLinkDevice]')
		AND [indexes].[name] = 'IX_Core_MetaObjectLinkDevice_MetaObjectId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObjectLinkDevice_MetaObjectId отсутствует в таблице [Core].[MetaObjectLinkDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObjectLinkDevice]')
		AND [indexes].[name] = 'IX_Core_MetaObjectLinkDevice_DeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObjectLinkDevice_DeviceId отсутствует в таблице [Core].[MetaObjectLinkDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObjectLinkDevice_MetaObjectId_Core_MetaObject_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObjectLinkDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObjectLinkDevice_MetaObjectId_Core_MetaObject_Id] отсутствует в таблице [Core].[MetaObjectLinkDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObjectLinkDevice_DeviceId_Dictionaries_Device_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObjectLinkDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObjectLinkDevice_DeviceId_Dictionaries_Device_Id] отсутствует в таблице [Core].[MetaObjectLinkDevice].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObjectLinkRole_MetaObjectId_Core_MetaObject_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObjectLinkRole]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObjectLinkRole_MetaObjectId_Core_MetaObject_Id] отсутствует в таблице [Core].[MetaObjectLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObjectLinkRole_RoleId_Admin_Role_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObjectLinkRole]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObjectLinkRole_RoleId_Admin_Role_Id] отсутствует в таблице [Core].[MetaObjectLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObjectLinkRole]')
		AND [indexes].[name] = 'IX_Core_MetaObjectLinkRole_MetaObjectId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObjectLinkRole_MetaObjectId отсутствует в таблице [Core].[MetaObjectLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[MetaObjectLinkRole]')
		AND [indexes].[name] = 'IX_Core_MetaObjectLinkRole_RoleId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_MetaObjectLinkRole_RoleId отсутствует в таблице [Core].[MetaObjectLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_MetaObjectReferenceMeasurementDevice_Id_Core_MetaObject_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[MetaObjectReferenceMeasurementDevice]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_MetaObjectReferenceMeasurementDevice_Id_Core_MetaObject_Id] отсутствует в таблице [Core].[MetaObjectReferenceMeasurementDevice].' + @crlf;
	END;
  
	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Admin].[FK_Admin_News_Core_Binary_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Admin].[News]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Admin].[FK_Admin_News_Core_Binary_Id] отсутствует в таблице [Admin].[News].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Admin].[FK_Admin_NewsLinkRole_NewsId_Admin_News_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Admin].[NewsLinkRole]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Admin].[FK_Admin_NewsLinkRole_NewsId_Admin_News_Id] отсутствует в таблице [Admin].[NewsLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Admin].[FK_Admin_NewsLinkRole_RoleId_Admin_Role_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Admin].[NewsLinkRole]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Admin].[FK_Admin_NewsLinkRole_RoleId_Admin_Role_Id] отсутствует в таблице [Admin].[NewsLinkRole].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Organization_OrganizationTypeId_Dictionaries_OrganizationType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Organization]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Organization_OrganizationTypeId_Dictionaries_OrganizationType_Id] отсутствует в таблице [Business].[Organization].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[Parameter]')
		AND [indexes].[name] = 'IX_Dictionaries_Parameter_Code'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_Parameter_Code отсутствует в таблице [Dictionaries].[Parameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[Parameter]')
		AND [indexes].[name] = 'IX_Dictionaries_Parameter_PhysicalParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_Parameter_PhysicalParameterId отсутствует в таблице [Dictionaries].[Parameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[Parameter]')
		AND [indexes].[name] = 'IX_Dictionaries_Parameter_ResourceSystemTypeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_Parameter_ResourceSystemTypeId отсутствует в таблице [Dictionaries].[Parameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_Parameter_PhysicalParameterId_Dictionaries_PhysicalParameter_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[Parameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_Parameter_PhysicalParameterId_Dictionaries_PhysicalParameter_Id] отсутствует в таблице [Dictionaries].[Parameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_Parameter_ResourceSystemTypeId_Dictionaries_SystemType_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[Parameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_Parameter_ResourceSystemTypeId_Dictionaries_SystemType_Id] отсутствует в таблице [Dictionaries].[Parameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_ParameterDictionaryValue_DeviceId_Dictionaries_Device_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[ParameterDictionaryValue]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_ParameterDictionaryValue_DeviceId_Dictionaries_Device_Id] отсутствует в таблице [Dictionaries].[ParameterDictionaryValue].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Dictionaries].[FK_Dictionaries_ParameterDictionaryValue_DictionaryId_Dictionaries_ParameterDictionary_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Dictionaries].[ParameterDictionaryValue]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Dictionaries].[FK_Dictionaries_ParameterDictionaryValue_DictionaryId_Dictionaries_ParameterDictionary_Id] отсутствует в таблице [Dictionaries].[ParameterDictionaryValue].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[ParameterDictionaryValue]')
		AND [indexes].[name] = 'IX_Dictionaries_ParameterDictionaryValue_DeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_ParameterDictionaryValue_DeviceId отсутствует в таблице [Dictionaries].[ParameterDictionaryValue].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Dictionaries].[ParameterDictionaryValue]')
		AND [indexes].[name] = 'IX_Dictionaries_ParameterDictionaryValue_ParameterDictionaryId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Dictionaries_ParameterDictionaryValue_ParameterDictionaryId отсутствует в таблице [Dictionaries].[ParameterDictionaryValue].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
		AND [indexes].[name] = 'UQ_Business_ParameterLinkDeviceParameter_ParameterId_PeriodTypeId_DeviceParameterId_ChannelTemplateId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: UQ_Business_ParameterLinkDeviceParameter_ParameterId_PeriodTypeId_DeviceParameterId_ChannelTemplateId отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
		AND [indexes].[name] = 'IX_Business_ParameterMapDeviceParameter_ParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_ParameterMapDeviceParameter_ParameterId отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
		AND [indexes].[name] = 'IX_Business_ParameterMapDeviceParameter_PeriodTypeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_ParameterMapDeviceParameter_PeriodTypeId отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
		AND [indexes].[name] = 'IX_Business_ParameterMapDeviceParameter_MeasurementUnitId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_ParameterMapDeviceParameter_MeasurementUnitId отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
		AND [indexes].[name] = 'IX_Business_ParameterMapDeviceParameter_DimensionId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_ParameterMapDeviceParameter_DimensionId отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
		AND [indexes].[name] = 'IX_Business_ParameterMapDeviceParameter_DeviceParameterId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_ParameterMapDeviceParameter_DeviceParameterId отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
		AND [indexes].[name] = 'IX_Business_ParameterMapDeviceParameter_SubsystemTypeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_ParameterMapDeviceParameter_SubsystemTypeId отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
		AND [indexes].[name] = 'IX_Business_ParameterMapDeviceParameter_ParameterDictionaryId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_ParameterMapDeviceParameter_ParameterDictionaryId отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
		AND [indexes].[name] = 'IX_Business_ParameterMapDeviceParameter_ChannelTemplateId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_ParameterMapDeviceParameter_ChannelTemplateId отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_ParameterLinkDeviceParameter_ParameterId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_ParameterLinkDeviceParameter_ParameterId] отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_ParameterLinkDeviceParameter_PeriodTypeId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_ParameterLinkDeviceParameter_PeriodTypeId] отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_ParameterLinkDeviceParameter_MeasurementUnitId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_ParameterLinkDeviceParameter_MeasurementUnitId] отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_ParameterLinkDeviceParameter_DimensionId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_ParameterLinkDeviceParameter_DimensionId] отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_ParameterMapDeviceParameter_ParameterDictionaryId_Dictionaries_ParameterDictionary_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_ParameterMapDeviceParameter_ParameterDictionaryId_Dictionaries_ParameterDictionary_Id] отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_ParameterLinkDeviceParameter_DeviceParameterId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_ParameterLinkDeviceParameter_DeviceParameterId] отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_ParameterLinkDeviceParameter_SubsystemTypeId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_ParameterLinkDeviceParameter_SubsystemTypeId] отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_ParameterLinkDeviceParameter_ChannelTemplateId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[ParameterMapDeviceParameter]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_ParameterLinkDeviceParameter_ChannelTemplateId] отсутствует в таблице [Business].[ParameterMapDeviceParameter].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Placement]')
		AND [indexes].[name] = 'IX_Business_Placement_PlacementPurposeId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Placement_PlacementPurposeId отсутствует в таблице [Business].[Placement].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Placement]')
		AND [indexes].[name] = 'IX_Business_Placement_BuildingId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Placement_BuildingId отсутствует в таблице [Business].[Placement].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Placement]')
		AND [indexes].[name] = 'IX_Business_Placement_UserAdditionalInfoId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Placement_UserAdditionalInfoId отсутствует в таблице [Business].[Placement].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[Placement]')
		AND [indexes].[name] = 'IX_Business_Placement_OrganizationId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_Placement_OrganizationId отсутствует в таблице [Business].[Placement].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Placement_PlacementPurposeId_Dictionaries_PlacementPurpose_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Placement]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Placement_PlacementPurposeId_Dictionaries_PlacementPurpose_Id] отсутствует в таблице [Business].[Placement].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Placement_BuildingId_Business_Building_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Placement]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Placement_BuildingId_Business_Building_Id] отсутствует в таблице [Business].[Placement].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Placement_UserAdditionalInfoId_Business_UserAdditionalInfo_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Placement]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Placement_UserAdditionalInfoId_Business_UserAdditionalInfo_Id] отсутствует в таблице [Business].[Placement].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_Placement_OrganizationId_Business_Organization_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[Placement]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_Placement_OrganizationId_Business_Organization_Id] отсутствует в таблице [Business].[Placement].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_RegulatorParameterValue_MeasurementDeviceId_Business_MeasurementDevice_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[RegulatorParameterValue]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_RegulatorParameterValue_MeasurementDeviceId_Business_MeasurementDevice_Id] отсутствует в таблице [Business].[RegulatorParameterValue].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_RegulatorParameterValue_DeviceParameterId_Dictionaries_DeviceParameter_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[RegulatorParameterValue]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_RegulatorParameterValue_DeviceParameterId_Dictionaries_DeviceParameter_Id] отсутствует в таблице [Business].[RegulatorParameterValue].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[RegulatorParameterValue]')
		AND [indexes].[name] = 'IX_Business_RegulatorParameterValue_MeasurementDeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_RegulatorParameterValue_MeasurementDeviceId отсутствует в таблице [Business].[RegulatorParameterValue].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_Report_ReportTypeId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[Report]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_Report_ReportTypeId] отсутствует в таблице [Core].[Report].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_ReportPluginSelector_ReportId_Core_Report_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[ReportPluginSelector]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_ReportPluginSelector_ReportId_Core_Report_Id] отсутствует в таблице [Core].[ReportPluginSelector].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[ReportPluginSelector]')
		AND [indexes].[name] = 'IX_Core_ReportPluginSelector_ReportId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Core_ReportPluginSelector_ReportId отсутствует в таблице [Core].[ReportPluginSelector].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_ReportSelector_SelectorReportId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[ReportSelector]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_ReportSelector_SelectorReportId] отсутствует в таблице [Core].[ReportSelector].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_ReportSelector_TargetReportId]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[ReportSelector]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_ReportSelector_TargetReportId] отсутствует в таблице [Core].[ReportSelector].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_ProcessingLogEntry_ProcessingId_Core_Processing_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[ProcessingLogEntry]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_ProcessingLogEntry_ProcessingId_Core_Processing_Id] отсутствует в таблице [Core].[ProcessingLogEntry].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Core].[FK_Core_ProcessingLogEntry_ProcessingStatusId_Dictionaries_ProcessingStatus_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Core].[ProcessingLogEntry]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Core].[FK_Core_ProcessingLogEntry_ProcessingStatusId_Dictionaries_ProcessingStatus_Id] отсутствует в таблице [Core].[ProcessingLogEntry].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[ProcessingLogEntry]')
		AND [indexes].[name] = 'IX_Business_ProcessingLogEntry_ProcessingId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_ProcessingLogEntry_ProcessingId отсутствует в таблице [Core].[ProcessingLogEntry].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Core].[ProcessingLogEntry]')
		AND [indexes].[name] = 'IX_Business_ProcessingLogEntry_ProcessingLogStatusId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_ProcessingLogEntry_ProcessingLogStatusId отсутствует в таблице [Core].[ProcessingLogEntry].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[TimeSignature]')
		AND [indexes].[name] = 'IX_Business_TimeSignature_MeasurementDeviceId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_TimeSignature_MeasurementDeviceId отсутствует в таблице [Business].[TimeSignature].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_TimeSignature_MeasurementDeviceId_Business_MeasurementDevice_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[TimeSignature]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_TimeSignature_MeasurementDeviceId_Business_MeasurementDevice_Id] отсутствует в таблице [Business].[TimeSignature].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_TimeSignature_StatusConnectionId_Dictionaries_StatusConnection_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[TimeSignature]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_TimeSignature_StatusConnectionId_Dictionaries_StatusConnection_Id] отсутствует в таблице [Business].[TimeSignature].' + @crlf;
	END;
  

	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Admin].[User]')
		AND [indexes].[name] = 'UQ_Admin_User_UserName'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: UQ_Admin_User_UserName отсутствует в таблице [Admin].[User].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Admin].[User]')
		AND [indexes].[name] = 'IX_Admin_User_RoleId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Admin_User_RoleId отсутствует в таблице [Admin].[User].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Admin].[User]')
		AND [indexes].[name] = 'IX_Admin_User_UserName'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Admin_User_UserName отсутствует в таблице [Admin].[User].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_UserAdditionalInfo_Id_Admin_User_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[UserAdditionalInfo]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_UserAdditionalInfo_Id_Admin_User_Id] отсутствует в таблице [Business].[UserAdditionalInfo].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_UserAdditionalInfo_Id_Dictionaries_Gender_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[UserAdditionalInfo]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_UserAdditionalInfo_Id_Dictionaries_Gender_Id] отсутствует в таблице [Business].[UserAdditionalInfo].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[UserLinkChannel]')
		AND [indexes].[name] = 'IX_Business_UserLinkChannel_UserId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_UserLinkChannel_UserId отсутствует в таблице [Business].[UserLinkChannel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Business].[UserLinkChannel]')
		AND [indexes].[name] = 'IX_Business_UserLinkChannel_ChannelId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Business_UserLinkChannel_ChannelId отсутствует в таблице [Business].[UserLinkChannel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_UserLinkChannel_UserId_Admin_User_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[UserLinkChannel]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_UserLinkChannel_UserId_Admin_User_Id] отсутствует в таблице [Business].[UserLinkChannel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Business].[FK_Business_UserLinkChannel_ChannelId_Business_Channel_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Business].[UserLinkChannel]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Business].[FK_Business_UserLinkChannel_ChannelId_Business_Channel_Id] отсутствует в таблице [Business].[UserLinkChannel].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[indexes] [indexes]
		WHERE [indexes].[object_id] = OBJECT_ID(N'[Admin].[UserMessage]')
		AND [indexes].[name] = 'IX_Admin_UserMessage_UserId'
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Индекс: IX_Admin_UserMessage_UserId отсутствует в таблице [Admin].[UserMessage].' + @crlf;
	END;


	IF NOT EXISTS
	(
		SELECT * FROM [sys].[foreign_keys] [foreign_keys]
		WHERE [foreign_keys].[object_id] = OBJECT_ID(N'[Admin].[FK_Admin_UserMessage_UserId_Admin_User_Id]')
		AND [foreign_keys].[parent_object_id] = OBJECT_ID(N'[Admin].[UserMessage]')
	)
	BEGIN
		SET @missingConstraintsCount = @missingConstraintsCount + 1;
		SET @missingConstraintsMessage = @missingConstraintsMessage + 'Внешний ключ: [Admin].[FK_Admin_UserMessage_UserId_Admin_User_Id] отсутствует в таблице [Admin].[UserMessage].' + @crlf;
	END;



	IF @missingConstraintsCount != 0
	BEGIN
		DECLARE @serverName  NVARCHAR(128) = @@SERVERNAME;
		DECLARE @subject NVARCHAR(256) = N'Обнаружены отсутсвующие ключи на сервере ' + @serverName;
		SET @missingConstraintsMessage = CONCAT(N'Найдены отсутствующие ключи: ',	@missingConstraintsCount, @crlf, @crlf, @missingConstraintsMessage);
		EXEC msdb.dbo.sp_send_dbmail 
		 @profile_name = 'EnergyTechAudit.PowerAccounting.Database.MailProfile',
		 @recipients = 'eta.development.dba@yandex.ru',
		 @subject = @subject,
		 @importance = 'High',
		 @body = @missingConstraintsMessage;
	END;
END;